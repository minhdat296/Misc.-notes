\input{article preambles}

\setcounter{section}{0}

\input{commands}

\begin{document}

    \title{Short notes}
    
    \author{Dat Minh Ha}
    \maketitle
    
    \begin{abstract}
        Unsorted short notes. Mostly about algebraic geometry and (geometric) representation theory.
    \end{abstract}
    
    {
      \hypersetup{} 
      %\dominitoc
      \tableofcontents %sort sections alphabetically
    }

    \section{Projective spaces}
        \subsection{Projective spaces as moduli spaces}
            \begin{convention}
                If $S$ is a scheme and $\tau$ is a topology on the category of schemes, then write $S_{\tau}$ for the (small) $\tau$-site of $S$-schemes.
            \end{convention}
        
            In algebraic geometry, nothing should be defined in terms of charts, but rather always in terms of functors of points because ultimately, we care about points valued in some ring for the sake of finding solutions of systems of polynomials equations; charts should always be computed from functors of points somehow. The topologies on the category of schemes are also horrendous from a point-set perspective, so we'd rather not have to look at them too directly.
            
            A particularly grave offender of this principle are the projective spaces $\P^n_S$ (with $n$ even being possibly infinite) over some fixed base scheme $S$. These are inevitably always given in terms of the $\Proj$-construction, which is ultimately a construction of locally ringed spaces in terms of Zariski charts; this locally ringed space would then need to be shown to be a scheme, adding to our despair. Sometimes one might also see the definition:
                $$\P^n_S := \A^{n + 1}_S/(\GL_1)_S$$
            but quotients are rather hard to deal with in algebraic geometry, as the category of schemes does not admit all colimits (not even finite ones). How can we rectify this problem then ? Funnily enough, we can go back to the very basics, and remind ourselves that classically, i.e. when $S := \Spec k$ for some algebraically closed field $k$, the set of $k$-points of the projective space $\P^n_k$ is nothing but the set of all lines in the vector space $k^{\oplus (n + 1)}$. While we might be tempted to view these points as $1$-dimensional subspaces of $k^{\oplus (n + 1)}$, it is actually beneficial to view them as $1$-dimensional quotients instead. Ultimately, we do this because it makes it possible for us to say that the functor:
                $$\P^n_k: (\Spec k)_{\Zar}^{\aff, \op} \to \Sets$$
                $$\Spec A \mapsto \{ \text{locally free rank-$1$ quotients of $A^{\oplus (n + 1)}$} \}$$
            satisfies descent; this is a technical issue, mostly to do with the fact that tensor products interact better with quotients than submodules.
    
            More generally, given any locally free $\scrO_S$-module $\scrE$, we can form the symmetric algebra $\Sym_{\scrO_S}(\scrE)$ via the left-adjoint to the forgetful functor:
                $$\Comm\Alg(\QCoh(S)) \to \QCoh(S)$$
            and then take its relative $\Spec$ to obtain an $S$-scheme:
                $$\V(\scrE) := \Spec_S( \Sym_{\scrO_S}(\E) )$$
            We then have:
            \begin{definition}[Projective spaces from locally free modules] \label{def: projective_space_functor_of_points}
                Let $S$ be a scheme and $\scrE$ be a locally free $\scrO_S$-module. Then, the \textbf{projective space} constructed from $\scrE$ (sometimes called a \textbf{projective space bundle}) will be the functor:
                    $$\P(\scrE): S_{\Zar}^{\op} \to \Sets$$
                    $$(f: T \to S) \mapsto \{ \text{locally free rank-$1$ quotients of $f^* \scrE$} \}$$
                When $\scrE \cong \scrO_S^{\oplus (n + 1)}$, we will instead write:
                    $$\P^n_S := \P(\scrO_S^{\oplus (n + 1)})$$
            \end{definition}
            It is not hard to show that this satisfies Zariski descent. Also, for the definition to make sense, recall that:
            \begin{itemize}
                \item $*$-pullbacks of locally free modules are also locally free\footnote{This is what allows us to show that $\P(\scrE)$ satisfies Zariski descent.}, and
                \item any quotient of a locally free module is locally free.
            \end{itemize}
    
            \begin{example}
                In fact, $\P(\scrE)$ satisfies \'etale descent, which implies that when $S \cong \Spec k$ for $k$ being some field (which forces $\scrE \cong \scrO_S^{\oplus (n + 1)}$ for some $n$ possibly infinite), in which case we have that:
                    $$S_{\et} \cong \{ \text{finite separable field extensions $k'/k$} \}$$
                which makes it possible to picture $\P^n_k(k)$ as the following $\Gal(k^{\sep}/k)$-set:
                    $$\P^n_k(k) \cong \{ \text{ $1$-dimensional quotients of $(k^{\sep})^{\oplus (n + 1)}$ } \}$$
                If $k$ is algebraically closed (or separably closed and of characteristic $0$), then any Galois action will be trivial, and we recover the classical definition of projective $n$-spaces over an algebraically closed field (cf. \cite[Chapter 1]{hartshorne}).
            \end{example}
            \begin{example}
                The Zariski version of the previous example requires taking $S \cong \Spec A$ for some local ring $A$ (e.g. $A \cong k[\![t]\!]$ for $k$ being a field). Recall also that any locally free rank-$1$ module over a local ring is trivially free and of rank $1$.
                
                If $A$ is a local domain with fraction field $K := \Frac A$ then we will also have that:
                    $$\P^n_A(A) \cong \P^n_K(K)$$
                as $\Gal(K^{\alg}/K)$-sets\footnote{Keyword: \textbf{concretely invertible modules}.}.
            \end{example}
    
            Now, what about a Zariski covering for $\P(\scrE)$, i.e. how is the definition above equivalent to the usual one via $\Proj$ ? Let us first note that $\Sym_{\scrO_S}(\scrE)$ is $\N$-graded, and when $\scrE$ is locally free, the existence of said grading implies that there is an $\N$-graded $\scrO_{S, s}$-algebra isomorphism\footnote{To prove this, use the universal property of $\scrO_{S, s}[x_1, ..., x_{n + 1}]$ as an $\N$-graded commutative $\scrO_{S, s}$-algebra.}:
                $$(\Sym_{\scrO_S}(\scrE))_s \cong \Sym_{\scrO_{S, s}}(\scrE_s) \xrightarrow[]{\cong} \scrO_{S, s}[x_1, ..., x_{n + 1}]$$
            (say, $\rank_{\scrO_S} \scrE := n(s) + 1$ for some $n(s)$ possibly infinite and depending on the point $s \in |S|$). When $\scrE$ is of some constant finite rank $n$ (i.e. $\scrE$ is a rank-$n$ vector bundle over $S$) there are thus $n + 1$ natural coordinate projections maps:
                $$\Sym_{\scrO_S}(\scrE))_s \to \scrO_{S, s}\left[\frac{x_1}{x_i}, ..., ..., \frac{x_{n + 1}}{x_i}\right] \cong \scrO_{S, s}[x_1, ..., \not{x_i}, ..., x_{n + 1}] =: A_i, 1 \leq i, j \leq n + 1$$
                $$x_j \mapsto \frac{x_j}{x_i}$$
            which can be easily seen to be localisations; these projection maps thus induce $n + 1$ open immersions:
                $$U_i := \Spec A_i \cong \A^n_S \hookrightarrow \P(\scrE)$$
            The affine open subschemes $U_i$ intersect each other at:
                $$U_{ij} \cong \Spec_S ( A_i \tensor_{\scrO_S} A_j ) \cong \Spec_S A_i\left[\frac{1}{x_j}\right]$$
            One then has that:
                $$\P(\scrE) \cong \indlim\{U_{ij} \to U_i\}_{1 \leq i \not = j \leq n + 1}$$
            \begin{example}
                Let $k$ be a field. Then $\P^1_k$ will be the following pushout in $\Sch_{/\Spec k}$ (this statement actually does not depend on us assuming that $k$ is a field):
                    $$
                        \begin{tikzcd}
                    	{\Spec k\left[ \left( \frac{x_1}{x_2} \right)^{\pm 1} \right]} & {\Spec k[x_1]} \\
                    	{\Spec k[x_2]} & {\P^1_k}
                    	\arrow[from=1-1, to=2-1]
                    	\arrow[from=1-1, to=1-2]
                    	\arrow[from=1-2, to=2-2]
                    	\arrow[from=2-1, to=2-2]
                    	\arrow["\lrcorner"{anchor=center, pos=0.125, rotate=180}, draw=none, from=2-2, to=1-1]
                        \end{tikzcd}
                    $$
                but simultaneously (this statement does need $k$ to be a field), it classifies lines in $k^{\oplus 2}$ up to $\Gal(k^{\sep}/k)$-conjugates. The maps $\Spec k[x_j] \to \P^1_k$ are given by:
                    $$x_j \mapsto \frac{x_j}{x_i}, 1 \leq i \not = j \leq 2$$
            \end{example}

        \subsection{Grassmannians}
            One reason for introducing projective spaces as in definition \ref{def: projective_space_functor_of_points} is that it helps us setup the theory of Grassmannians in a more systematic way. Before we get into the details, let us set up some notations for our own convenience.
            \begin{definition}[Finite Grassmannians] \label{def: finite_grassmanians}
                Fix some $n \geq 0$ and some $0 \leq k \leq n$, as well as a base scheme $S$. Let us then define a category fibred in sets:
                    $$\Gr_n^{(m)} \to \Sch_{/S}$$
                whose fibres are given by:
                    $$\Gr_n^{(m)}(T) := \{ \text{ $\scrO_T$-module epimorphisms $\scrO_T^{\oplus n} \to \scrE$ where $\rank_{\scrO_T} \scrE = m$ } \}/\cong$$
                for each $T \in \Ob(\Sch_{/S})$, and for each morphism $(f: T' \to T) \in \Mor(\Sch_{/S})$, the map $\Gr_n^{(m)}(T') \to \Gr_n^{(m)}(T)$ between fibres is given by:
                    $$( p': \scrO_{T'}^{\oplus n} \to \scrE' ) \mapsto ( f^*p: \scrO_T^{\oplus n} \to f^*\scrE )$$
                Note that the maps between fibres are well-defined because $f^*\scrO_T \cong \scrO_{T'}$ and preserves colimits by virtue of being a left-adjoint.

                Such fibred categories $\Gr_n^{(m)}$ (or equivalently, their associated presheaves) are called \textbf{$(n, m)$-Grassmannians}.
            \end{definition}

            It is not hard to see that Grassmannians satisfy fpqc descent, so let us move straight on to checking whether or not they are representable.

    \section{Fusion categories and Kazhdan-Lusztig stuff}
        \begin{convention}
            Fix once and for all an algebraically closed base field $k$.
        \end{convention}
    
        \subsection{Fusion categories}
            \begin{definition}[Finite linear categories] \label{def: finite_linear_categories}
                A $k$-linear\footnote{Hom sets are $k$-vector spaces.} abelian category is said to be \textbf{$k$-finite} if and only if:
                \begin{enumerate}
                    \item the hom vector spaces are all finite-dimensional over $k$,
                    \item it is simultaneously Artinian and Noetherian (so that objects will have finite length),
                    \item and there are only finitely many isomorphism classes of simple objects, each admitting a projective cover (i.e. an epimorphism from a projective object\footnote{This is weaker than having enough projectives.}).
                \end{enumerate}
            \end{definition}
            \begin{example}
                Let $\chara k = 0$ and $\g$ be a finite-dimensional simple Lie algebra over $k$. Let $\chi$ be a central character of $\g$ (i.e. a homomorphism of algebras from the centre $\rmU(\g)$ to $k$) and write $\Pi_{\chi}$ for the set of weights of $\g$ corresponding to the character $\chi$ via the Harish-Chandra Isomorphism. Denote by $\calO_{\chi}$ the category generated via finite colimits (finite direct sums and quotients) by the Verma modules $\standard_{\lambda}$ of highest-weights $\lambda \in \Pi_{\chi}$. By consider the full subcategory $\calO_{\chi}^{\integrable} \subset \calO_{\chi}$ consisting of objects that are finite-dimensional as $k$-vector spaces, i.e.:
                    $$\calO_{\chi}^{\integrable} := \calO_{\chi} \cap \g\mod^{\fd}$$
                one obtains an instance of a $k$-finite abelian category.

                As a side note, the so-called category $\calO$ generated via finite colimits by all the Verma modules of $\g$ is semi-simple and decomposes as:
                    $$\calO \cong \bigoplus_{\chi \in \Spec \rmZ(\g)} \calO_{\chi}$$
                However, since there are infinitely many central characters (or alternatively, infinitely many Verma modules, each correpsonding to a weight of $\g$), $\calO$ fails to be $k$-finite. 
            \end{example}
            \begin{remark} \label{remark: deligne_theorem_on_finite_linear_categories}
                A theorem of Deligne asserts that any $k$-finite category $\calO$ is \textit{$k$-linearly} equivalent to some $A\bimod^{\fd}$, the category of \textit{finite-dimensional} bimodules over some finite-dimensional $k$-algebra $A$. How does one obtain $A$ ? If we write $\{\simple_{\lambda}\}_{\lambda \in \Pi}$ for a (finite) set of representatives of the finitely many isomorphism classes of simple objects of $\calO$, and $P_{\lambda} \to \simple_{\lambda}$ for their projective covers, then:
                    $$A \cong \End_{\calO}( \bigoplus_{\lambda \in \Pi} P_{\lambda} )$$
                As such, another large class of examples of finite linear categories are nothing but categories of finite-dimensional right-modules (or equivalently, left-modules, thanks to finite-dimensionality) over finite-dimensional associative algebras (e.g. matrix algebras, finite group algebras, path algebras of finite quivers without loops, etc.).  

                If, furthermore, the $k$-finite category $\calO$ above is equipped with a monoidal structure, then its equivalence functor to $A\bimod$ will also be monoidal. 
            \end{remark}

            Imposing semi-simplicity and then putting a monoidal structure onto a finite linear category yields us the notion of a fusion category:
            \begin{definition}[Fusion categories] \label{def: fusion_categories}
                A \textbf{$k$-fusion category} is a semi-simple $k$-finite rigid tensor category, which is to say that it is a $k$-finite abelian category $\calO$ with a $k$-bilinear monoidal structure $\tensor$ whose unit $\1$ satisfies:
                    $$\End_{\calO}(\1) \cong k$$
                and wherein every object $M$ has a unique-up-to-isomorphism dual $M^{\vee}$ with respect to $\tensor$, i.e. there exist evaluation and coevaluation maps ntural in $M$ and $M^{\vee}$:
                    $$M^{\vee} \tensor M \xrightarrow[]{\ev_M} \1 \xrightarrow[]{\co\ev_M} M \tensor M^{\vee}$$
            \end{definition}
            \begin{example}
                Let $G$ be a finite group and suppose that $\chara k$ is coprime to the order of $G$; we need the latter assumption so that Maschke's Theorem would hold, i.e. so that $kG\mod^{\fd}$ would be a semi-simple category. Then $kG\mod^{\fd}$ will be a fusion category\footnote{For a proof of semi-simplicity, see \cite{lam_first_course_in_noncommutative_rings}.}; duals of objects therein are given by full $k$-linear duals, on which the $kG$-action is twisted by the antipode thereof (recall that group algebras are Hopf algebras in a certain natural manner; cf. \cite[Chapter III]{kassel_quantum_groups}). 
            \end{example}
            \begin{definition}[Tannaka-equivalences/Tannakian categories/Tannakian reconstruction]
                Suppose that $\calO$ is a $k$-linear monoidal category and:
                    $$F: \calO \to k\mod$$
                is a monoidal functor (which needs not be strict!) that is also $k$-linear, exact, and faithful. If there is a $k$-linear and monoidal equivalence:
                    $$\calO \cong \End_{\Nat}(F)\bimod$$
                then we will say that the algebra $\End_{\Nat}(F)$ can be \textbf{reconstructed} from the monoidal structure on $\calO$; the equivalence of monoidal categories in question can be referred to as a Tannakian equivalence. Any $k$-linear monoidal category $\calO$ for which such a \say{\textbf{fibre functor}} $F$ exists is called a \textbf{Tannakian category}.
            \end{definition}
            \begin{remark}
                The algebra $A$ as in remark \ref{remark: deligne_theorem_on_finite_linear_categories} can be understood as the algebra of natural endomorphisms of the forgetful\footnote{By Freyd-Mitchell, any $k$-linear abelian category is equivalent to the category of modules over some $k$-algebra.} functor:
                    $$\oblv: \calO \to A\bimod$$
                as it can be proven that:
                    $$A \cong \End_{\Nat}(\oblv)$$
                As such, Deligne's theorem can be understood as an instance of Tannakian reconstruction. 
            \end{remark}
            The following is a neat reconstruction-style theorem characterising fusion categories amongst monoidal categories. Note that often, the interesting examples fusion categories tend not to come equipped with strict-monoidal fibre functors; recall that rigid monoidal categories with strict-monoidal functors are Tannaka-equivalent to categories of modules over Hopf algebras, not weak ones (cf. \cite[Chapter 5]{EGNO}). 
            \begin{theorem}[Victor Ostrik]
                Let $\calO$ be a fusion category that is equipped with a fibre functor:
                    $$F: \calO \to k\mod$$
                which may be lax-monoidal\footnote{Also called \say{weak-monoidal}.} Then $\End_{\Nat}(F)$ will have the structure of a weak Hopf $k$-algebra (cf. \cite[Section 7.23]{EGNO}) and will be Tannaka-reconstructible from $\calO$.
            \end{theorem}
            However, the point in writing down the notion of fusion categories arguably had less to do with this reconstruction theorem, but rather with K-theory; in particular, this is why the semi-simplicity condition is needed. To explain this, let us firstly recall the notion of Grothendieck groups $K_0$.
            \begin{definition}[Grothendieck groups] 
                Let $\calA$ be an additive category. To such a category $\calA$, one can associate a so-called \textbf{Grothendieck group} $\K_0(\calA)$ which is generated by the \textit{isomorphism classes} of objects of $\calA$, modulo the relations:
                    $$[M] = [M'] + [M'']$$
                given for every short exact sequence $0 \to M' \to M \to M'' \to 0$ ($[-]$ denotes isomorphism classes) that exists in $\calA$; the group operation is given by direct sums and the unit is $[0]$. 
            \end{definition}
            \begin{example}
                Direct sums are commutative, so Grothendieck groups are always abelian. 
            \end{example}
            \begin{example}
                Let $D$ be a field or a local commutative ring. Then we will have that:
                    $$\K_0(D\mod^{\ft}) \cong \Z$$
                because the category $D\mod^{\ft}$ is generated via finite colimits (i.e. finite direct sums and quotients in this case) by a single isomorphism class of objects, namely that of $D$ itself, and hence $\K_0(D\mod^{\ft})$ will be free on $1$ generator as an abelian group, i.e. isomorphic to $\Z$.  
            \end{example}
            \begin{example}
                Let $R$ be a PID and consider the abelian (hence additive) category $R\mod^{\ft}$ of finitely generated $R$-modules. The classification theorem for finitely generated modules over PIDs tells us that any finitely generated $R$-module $M$ decomposes into a finite direct sum of cyclic $R$-modules; more specifically:
                    $$M \cong R^{\oplus \rank_R M} \oplus \Tor_R(M)$$
                where:
                    $$\Tor_R(M) \cong \bigoplus_{\p \in \Spec R} R/\p^{d(\p)}$$
                for some finitely many non-zero $d(\p) \in \N$. From here, one can argue as in the previous example to see that:
                    $$\K_0(R\mod^{\ft}) \cong \Z$$
                as well.
            \end{example}
            \begin{definition}[Grothendieck rings]
                If $\calO$ is a monoidal additive cateogry then one can check that $\K_0(\calO)$ now becomes a ring, on which multiplication is given by:
                    $$[M] [N] := [M \tensor N]$$
                In such a situation, one shall refer to $\K_0(\calO)$ as the \textbf{Grothendieck ring} of $\calA$.
            \end{definition}
            \begin{example}[$\K_0(\sl_2(k)\mod^{\fd})$ and the Clebsch-Gordan formula] \label{example: clebsch_gordan}
                Let $\chara k = 0$.
                
                Firstly, let us recall that by a theorem of Weyl, the category of finite-dimensional modules of a finite-dimensional semi-simple Lie algebra $\g$ over $k$ is a semi-simple $k$-finite tensor category, i.e. any such module decomposes into (finitely many) simple submodules and the category is closed under binary tensor products over $k$ (since the universal enveloping algebra of any Lie algebra is a Hopf algebra \textit{a priori}). As such, the Grothendieck ring:
                    $$\K_0(\g\mod^{\fd})$$
                is free as a $\Z$-module with basis being isomorphism classes of simple $\g$-modules. 

                Now, specialise to the case:
                    $$\g \cong \sl_2(k)$$
                In this case, a result of Clebsch-Gordan informs us of how, given two simple $\sl_2(k)$-modules $V, W$, their tensor product $V \tensor_k W$ can be decomposed into a direct sum of simple $\sl_2(k)$-submodules. 

                \todo[inline]{Not done}
            \end{example}
            
            Let us now discuss how fusion categories may give rise to so-called \say{fusion rings} (also called \say{$\Z_{\geq 0}$-rings}). Instead of beginning with the definition of these fusion rings, let us analyse how the notion of a fusion category survives the decategorification process via Grothendieck rings. 
            
            If $\calO$ is a fusion category, a lot can be said about its Grothendieck ring. Firstly, by definition, fusion categories are semi-simple and contain finitely many isomorphism classes of simple objects, so firstly, $\K_0(\calO)$ is a finite free $\Z$-algebra, with choices of (finite) bases given by choices of representatives of the finitely many isomorphism classes of simple objects of $\calO$; furthermore, any such basis, e.g.:
                $$\{[\simple_{\lambda}]\}_{\lambda \in \Pi}$$
            can be easily shown to have $\Z_{\geq 0}$-structural constants, i.e.:
                $$\forall \lambda, \mu \in \Pi: [\simple_{\lambda}] [\simple_{\mu}] = \sum_{\nu \in \Pi} c_{\lambda, \mu}^{\nu} [\simple_{\nu}]$$
            for some $c_{\lambda, \mu}^{\nu} \in \Z_{\geq 0}$. Secondly, by interpreting the rigidity of $\calO$ (which is also by definition) as the existence of an involutive functor:
                $$(-)^{\vee}: \calO \to \calO$$
            Such a functor should decategorify into a $\Z$-linear involution on $\K_0(\calO)$, since $M^{\vee \vee} \cong M$ for all $M \in \Ob(\calO)$. Thirdly, we should note that it is not always true that the monoidal unit is a simple object, so in the special case wherein the monoidal unit of a fusion category $\calO$ is indeed simple, it shall decategorify into a basis element of the $\Z$-algebra $\K_0(\calO)$. 

            The aforementioned properties of the Grothendieck rings of a fusion category leads us naturally to the notion of fusion rings.
            \begin{definition}[Fusion rings]
                (Cf. \cite[Subsection 3.1]{EGNO})
            \end{definition}
            \begin{example}[Grothendieck ring of $\calO_{\chi}^{\integrable}$ in the $\sl_2$ case]
                Suppose that $\chara k = 0$. Also, fix a central character $\chi$ of $\sl_2(k)$.
            
                The result of Clebsch-Gordan tells us how the tensor product over $k$ of two finite-dimensional simple $\sl_2(k)$-modules decompose into a direct sum of simple submodules and what the highest weights of those simple summands are, so we are entirely informed of how the ring structure on $\K_0(\calO_{\chi}^{\integrable})$ is given (cf. example \ref{example: clebsch_gordan}). $\calO_{\chi}^{\integrable}$ is a fusion category, so its Grothendieck ring is a fusion ring.
                
                \todo[inline]{I think this fusion ring is both based and unital, and in fact has a partially ordered basis, since given any dominant weight, every other weight in its Weyl orbit will be lower than it \textit{a priori}. I think we should also be able to recover Weyl's character formula from this Grothendieck ring somehow.}
            \end{example}

        \subsection{A fusion rule for integrable modules over affine Kac-Moody algebras}

        \subsection{The Kazhdan-Lusztig equivalences between affine Kac-Moody algebras and finite-type QUEs}

    \section{Dense clusters in hypergraphs}
        \subsection{Hypergraphs}
            \begin{definition}[Hypergraphs] \label{def: hypergraphs}
                A \textbf{hypergraph} is a triple:
                    $$H := (V, E, s)$$
                consisting of a set $V$ of vertices, a set $E$ of edges, and a function $s: E \to \calP(V)$ into the power set of the set of vertices, called the \textbf{support function}.

                A \textbf{sub-hypergraph} is a pair:
                    $$H' := (V', E')$$
                consisting of subsets $V' \subseteq V, E' \subseteq E$ which are such that:
                    $$\forall e \in E': s(e) \in V'$$
            \end{definition}

            For example, let us think of each vertex in a hypergraph as a movie, and in order to find \say{clusters} of common interests in these movies, one can consider the edges: the more edges there are, the stronger the correlation. This prompts the following notion:
            \begin{definition}[Hypergraph density]
                Define the density of a hypergraph $H := (V, E, s)$ to be:
                    $$\alpha(H) := \frac{|E|}{|V|}$$
                Indeed, the more edges there are (supposing that the number of edges stays fixed), the higher the density, so it is a reasonable notion.
            \end{definition}
            \begin{question}
                How do we find a sub-hypergraph $H' \subset H$ such that the density $\alpha(H')$ is maximised ? Note that it is not necessarily true that $\alpha(H') \leq \alpha(H)$, since a hypergraph can be denser locally than globally. 
            \end{question}
            There was a solution to this question due to A. Goldberg in 1984, using the method of flows in networks.

        \subsection{Support matrices}
            Fix a hypergraph $H := (V, E, s)$ with finitely many vertices and edges, along with an enumeration of vertices $V := \{v_1, ..., v_n\}$ and of edges $E := \{e_1, ..., e_m\}$.

            We can then define an $m \x n$ matrix $A := (a_{ij})_{1 \leq i \leq m, 1 \leq j \leq n}$, called the \textbf{support matrix}, which is such that:
            \begin{itemize}
                \item $a_{ij} \geq 0$ for all $i, j$;
                \item $v_j \not \in s(e_i) \implies a_{ij} = 0$;
                \item $\forall 1 \leq i \leq m: \sum_{1 \leq j \leq n} a_{ij} = 1$.
            \end{itemize}

            \begin{theorem}
                Let $H'$ range over all the sub-hypergraphs of $H$. Then: 
                    $$\sup_{H' \subseteq H} \alpha(H') = \min_{\text{support matrices $A$ of $H$}} \|A^\top A\|$$
                wherein $\|-\|$ denotes the operator norm.
            \end{theorem}
                \begin{proof}
                    Firstly, to show that $\alpha(H') \leq \|A^{\top} A\|$, take $\e \in \R^n$ to be the vector with components $\e_j = 1$ if $v_j \in V'$ and $\e_j = 0$ otherwise. Then we will have that:
                        $$\|A^{\top} A\| := \sup_{x \in \R^n \setminus \{0\}} \frac{\<A\e, A\e\>}{\<\e, \e\>} \geq \frac{|E'|}{|V'|} =: \alpha(H')$$
                    For the converse inequality, we will firstly need the notion of the \textbf{spectral decomposition of a hypergraph}.
                \end{proof}

            \begin{definition}[Quotient hypergraphs]
                Let $H' \subseteq H$ be a sub-hypergraph. Then, define:
                    $$H/H' := (V/V' := V \setminus V', E/E' := E \setminus E', s/s')$$
                with the support function $s/s'$ given by:
                    $$\forall e \in E: (s/s')(e) = s(e) \cap V/V'$$
            \end{definition}
            \begin{lemma}
                Any hypergraph has only one sub-hypergraph of maximal density, i.e. the set of sub-hypergraphs of $H$ has only one maximal element, say $H_{\alpha_0}$, when partially ordered by density. 
            \end{lemma}
            Let us now define:
                $$H_{\alpha_{-1}} := H$$
                $$H_{\alpha_1} := H/H_{\alpha_0}$$
            and then inducively, define:
                $$H_{\alpha_N} := H_{\alpha_{N - 2}}/H_{\alpha_{N - 1}}$$
            Let us also abbreviate the densities of the hypergraphs $H_{\alpha_N}$ by $\alpha_N$. Then, note that:
                $$\alpha_N \leq \alpha_{N - 1}$$
            \begin{definition}[Spectra of hypergraphs]
                The sequence:
                    $$\{H_{\alpha_N}\}_{N \geq 0}$$
                is called the \textbf{spectral decomposition} of the hypergraph $H$. Each $N$ is called a \textbf{spectral weight}. 
            \end{definition}
            \begin{lemma}
                There exists a spectral weight $N \geq 0$ and a support matrix $A_N$ of $H$ such that the column sum is one the densities $\alpha_N$, i.e.:
                    $$\sum_{1 \leq i \leq m} a_{ij} = \alpha_N$$
            \end{lemma}

    \section{Things about reductive groups and GIT that I should know better ...}
        \begin{convention}
            Throughout, $k$ will be an algebraically closed field.
        \end{convention}
    
        \subsection{Cohomologically reductive group algebraic spaces}
            The following theorem gives a more-or-less functorial description of the notion of reductivity for affine group schemes over algebraically closed fields.
            \begin{theorem}[Cohomological criterion for reductivity of affine algebraic groups]
                Let $G$ be an affine algebraic group over $\Spec k$. Then, the following are equivalent:
                \begin{enumerate}
                    \item $G$ is reductive (i.e. the functor $V \mapsto V^G$ from $\Rep_G$ to $k\mod$ is exact; here, $\Rep_k(G)$ denotes the category of all $k$-linear representations of $G$, without any finite-dimensionality assumption).
                    \item The canonical map $\pi: [\Spec k/G] \to \Spec k$ is cohomologically affine, i.e. $\pi_*$ is exact\footnote{This is due to Serre's Criterion for Affineness, applicable to separated and quasi-compact morphisms. Because group schemes over fields (such as $G$) are separated \textit{a priori}, and because $G$ is algebraic and hence quasi-compact over $\Spec k$ too, the Criterion applies.}.
                \end{enumerate}
            \end{theorem}
                \begin{proof}[Proof sketch]
                    For any group scheme $G$, it is known that:
                        $$\Rep_k(G) \cong \QCoh([\Spec k/G])$$
                    as $k$-linear abelian symmetric monoidal categories with fibre functors to $k\mod$ (i.e. as $k$-Tannakian categories). If $G$ is reductive, then by definition\footnote{This hinges on the algebraic closedness of $k$.}, since the fibre functor $\Rep_k(G) \to k\mod$ (given by $V \to V^G$) is exact, so is the pushforward functor $\pi_*: \QCoh([\Spec k/G]) \to k\mod$, which is the fibre functor for $\QCoh([\Spec k/G])$ in the aforementioned Tannakian equivalence. The converse statement is clear. 
                \end{proof}
            \begin{corollary}
                Suppose that $H \leq G$ is a \textit{closed} subgroup scheme. Assuming that we know that the canonically induced morphism of algebraic stacks:
                    $$\iota: [\Spec k/H] \to [\Spec k/G]$$
                is schematic/representable by $k$-schemes, of finite presentation, and quasi-projective (which is true for any affine algebraic group $G$ over $\Spec k$). The induction functor:
                    $$R\Ind_H^G: D\Rep_k(H) \to D\Rep_k(G)$$
                can then be viewed as the composition:
                    $$D\Rep_k(H) \xrightarrow[]{\cong} D\QCoh([\Spec k/H]) \xrightarrow[]{R\iota_*} D\QCoh([\Spec k/G]) \xrightarrow[]{\cong} D\Rep_k(G)$$
                and we have to resort to derived functors and categories because the functor $V \mapsto V^H$ might fail to be exact, causing the Tannakian equivalence:
                    $$D\Rep_k(H) \cong D\QCoh([\Spec k/H])$$
                to only hold at the derived level.
            \end{corollary}
            \begin{remark}[Parabolic induction via $\Bun_G$]
                Fix a smooth, connected, and projective curve $X$ over $\Spec k$ and let $G$ be a reductive affine algebraic group over $\Spec k$. Write $\Bun_G$ for the moduli stack of principal $G$-bundles on $X$ and recall that its functor of points is given by\footnote{Cf. definition \ref{def: moduli_stack_of_principal_bundles}.}:
                    $$\Bun_G(S) := \Maps(X \x_{\Spec k} S, [\Spec k/G])$$
                Recall also that sheaves (satisfying some kind of a six-functor formalism, e.g. lisse $\bar{\Q}_{\ell}$ local systems when $\chara k > 0$, D-modules when $\chara k = 0$, etc.) on $\Bun_G$ are to be thought of as categorified $G(K_X)$-valued automorphic representations of the absolute Galois group of the global function field $K_X$ of $X$. The Geometric Global Langlands Correspondence predicts a parametrisation of these automorphic representations by points of the (derived) moduli stack $\LocSys_{\check{G}}$ of so-called $\check{G}$-equivariant \say{de Rham local systems} (i.e. $\check{G}$-equivariant vector bundles + integrable connections; $\check{G}$ denotes the Langlands dual of $G$) on the given curve $X$, in the sense that for each point:
                    $$x \in \LocSys_{\check{G}}$$
                there ought to be an associated \say{packet} of non-isomorphic automorphic representations. In order to rigorously establish this idea as well as to prove it, one must employ a technique known as \say{parabolic induction}, which is to prove the assertion for parabolic subgroups $P \leq G$ and then to perform some kind of limiting procedure to obtain a result for $G$, with the necessity for this technique boiling down to the profinite nature of $\Gal(\overline{K_X}/K_X)$. Obviously, then, one would need to know how the canonical maps:
                    $$\Bun_P \to \Bun_G$$
                impact $P$-automorphic representations, and for such an analysis to be carried out, .
            \end{remark}
    
        \subsection{Quotient stacks are covered by affine GIT quotients + automorphisms}
            Suppose that $G$ is a reductive affine algebraic group over $\Spec k$. We shall demonstrate that if:
                $$X := \bigcup_{i \in I} \Spec A_i$$
            is a $k$-scheme acted on by $G$, then fppf-locally, the quotient stack\footnote{Update Apr. $24^{th} 2024$: I have now written some things about quotient stacks. See definition \ref{def: quotient_stacks} and the materials that follow.}:
                $$[X/G]$$
            will look like:
                $$[\Spec A_i/G]$$
            reinforcing the idea that algebraic stacks = schemes + non-trivial local automorphisms.

            \begin{theorem}
                Suppose that $\scrX$ is an algebraic stack of finite type over $\Spec k$ with affine diagonal. For any point $x \in \scrX(\Spec k)$ with reductive stabiliser $G_x$
            \end{theorem}

    \section{Non-abelian \texorpdfstring{$H^1$}{} and torsors}
        \subsection{Computing non-abelian \texorpdfstring{$H^1$}{}}
            \begin{convention}
                Fix a base scheme $S$ and consider a Grothendieck topology $\tau$ on $\Sch_{/S}$, and for technical reasons, we require that $\tau$ is \textit{no finer than the fpqc topology}. For brevity, let us denote the resulting site by $S_{\tau}$. 
            \end{convention}

            Let $\E$ be an exact category (e.g. any additive category, the category of vector bundles on $S_{\tau}$, the category of $\Grp$-valued sheaves on $S_{\tau}$, etc.) with zero object $1$, and denote by $\E(S_{\tau})$ the category of $\E$-valued sheaves on $S_{\tau}$. By the Yoneda lemma, this is once again an exact category, but an issue is that even if we are given a short exact sequence:
                $$1 \to K \to G \to Q \to 1$$
            in $\E(S_{\tau})$, it is not guaranteed that for all $T \in \Ob(\Sch_{/S})$, it is necessarily true that the diagram:
                $$1 \to K(T) \to G(T) \to Q(T)$$
            can be completed into a short exact sequence. In other words, even if:
                $$G \to Q$$
            is surjective, it is not necessarily true that:
                $$G(T) \to Q(T)$$
            must also be surjective for all $T \in \Ob(\Sch_{/S})$. This is ultimately a categorical phenomenon: the natural fully faithful embedding:
                $$\Sh(S_{\tau}) \hookrightarrow \Psh(\Sch_{/S})$$
            does not generally admit a left-adjoint (i.e. sheafification)\footnote{For set-theoretic reasons.} so \textit{a priori}, thereby making the LHS a reflective subcategory of the RHS, so one can not expect epimorphisms on the LHS to be preserved by the embedding. This, in turn, is dependent on the very construction of the topology $\tau$ on $\Sch_{/S}$. For example, when $\tau = \et$, because $S_{\et}$ admits a small full subsite $S_{\et}^{\petit}$ which has all finite limits and is closed under the formation of said limits, sheafification not only exists over $S_{\et}^{\petit}$ but also would not map non-trivial presheaves to trivial sheaves; failure of surjectivity is therefore not a concern in that setting. On the other hand, if e.g. $\tau = \fppf$ then it seems to not be known still, whether or not there exists a finitely complete small full subsite $S_{\fppf}^{\petit} \subset S_{\fppf}$ which is closed under those limits, so even though a sheafification functor exists for $S_{\fppf}^{\petit}$, non-trivial presheaves might fppf-sheafify to something trivial. 
    
            Now, let's say we would like to measure the extent to which epimorphisms fail to be preserved. For instance, we would like to know how far the kernel is away from containing enough roots of unity (e.g. consider the sequence $1 \to \mu_n \to \GL_1 \xrightarrow[]{z \mapsto z^n} \GL_1 \to 1$). Naturally, this is a homological question (we are measuring a failure of exactness, after all), and the cohomologies to compute are:
                $$\cdots \to Q(T) = H^0(S_{\tau}, Q) \to H^i(S_{\tau}, K) \to H^i(S_{\tau}, G) \to H^i(S_{\tau}, Q) \to \cdots$$
            We might be tempted to just define:
                $$H^i(S_{\tau}, -) := R^i\Gamma(S_{\tau}, -)$$
            but because $\E$ is not guaranteed to be abelian, the derived functor \say{$R\Gamma(S_{\tau}, -)$} (or for that matter, even the derived category \say{$D\E(S_{\tau})$}) is ill-defined.
    
            When $\E = \Grp$ and $\tau \in \{ \Zar, \et, \mathrm{syntomic}, \fppf \}$, at least, it turns out that the method of \v{C}ech helps us write down an \say{injective resolution} $K^{\bullet}, G^{\bullet}, Q^{\bullet}$ by injective abelian groups for each of the groups $K, G, Q$, respectively. One then gets a long exact sequence of \textit{pointed sets} (not groups!):
                $$1 \to H^0(S_{\tau}, K) \to H^0(S_{\tau}, G) \to H^0(S_{\tau}, Q) \to H^1(S_{\tau}, K) \to H^1(S_{\tau}, G) \to H^1(S_{\tau}, Q)$$
            The problem, though, is that this does not continue to $H^{i > 1}$.

            Nevertheless, these non-abelian $H^1$ groups carry within them valuable information: namely, they parametrise isomorphism classes of so-called \say{torsors} on $S$.

            The following definition works also when we replace $S_{\tau}$ with an arbitrary site.
            \begin{definition}[Torsors] \label{def: torsors}
                Let $G$ be a group in $\Sh(S_{\tau})$. A \textbf{$G$-torsor} on $S_{\tau}$ (if $\tau$ is fixed, then we will say \say{torsor on $S$} only) is then a groupoid internal to $\Sh(S_{\tau})$:
                    $$
                        \begin{tikzcd}
                    	{G \x \scrF } & \scrF
                    	\arrow["\alpha", shift left=2, from=1-1, to=1-2]
                    	\arrow["{\pr_2}"', shift right=2, from=1-1, to=1-2]
                        \end{tikzcd}
                    $$
                defined by a \textit{simply transitive} action of $G$:
                    $$\alpha: G \x \scrF \to \scrF$$
                on another \textit{non-empty} sheaf $\scrF \in \Ob(\Sh(S_{\tau}))$. When $\alpha = \pr_1$, we say that the torsor is \textbf{trivial}.

                $G$-torsors on $S_{\tau}$ are objects of a natural category, $\Bun_G(S_{\tau})$, where the morphisms are commutative diagrams of the form:
                    $$
                        \begin{tikzcd}
                    	{G \x \scrF } & \scrF \\
                    	{G \x \scrF'} & {\scrF'}
                    	\arrow["\alpha", shift left=2, from=1-1, to=1-2]
                    	\arrow["{\pr_2}"', shift right=2, from=1-1, to=1-2]
                    	\arrow["{\pr_2}"', shift right=2, from=2-1, to=2-2]
                    	\arrow["{\alpha'}", shift left=2, from=2-1, to=2-2]
                    	\arrow["{\id_G \x \varphi}"', from=1-1, to=2-1]
                    	\arrow["\varphi", from=1-2, to=2-2]
                        \end{tikzcd}
                    $$
                where $\alpha: G \x \scrF \to \scrF$ and $\alpha': G \x \scrF' \to \scrF'$ are simply transitive $G$-actions on $\scrF, \scrF'$ respectively, and $\varphi: \scrF \to \scrF'$ is a morphism of sheaves.
            \end{definition}
            \begin{convention}
                If $\C$ is a category, then let us denote the class of isomorphism classes of objects of $\C$ by $\pi_0(\C)$.
            \end{convention}
            \begin{lemma}
                Let $G$ be a group object of $\Sh(S_{\tau})$. There is a functor:
                    $$\Bun_G(S_{\tau}) \to G\mod(S_{\tau})$$
                    $$\scrF \mapsto \Z\scrF$$
                associating each $G$-torsor $\scrF$ to the free abelian group on it, regarded as a $G$-module where the $G$-action is given by how $G$ acts on the generating sheaf $\scrF$.
            \end{lemma}
                \begin{proof}
                    
                \end{proof}
            \begin{theorem}[Non-abelian $H^1$ and torsors]
                By composing the naturally defined functions:
                    $$\pi_0( \Bun_G(S_{\tau}) ) \to \pi_0(G\mod(S_{\tau}))$$
                and:
                    $$\pi_0( G\mod(S_{\tau}) ) \to H^1(S_{\tau}, G)$$
                one obtains a bijection between the set of isomorphism classes of $G$-torsors on $S_{\tau}$ and $H^1(S_{\tau}, G)$.
            \end{theorem}
                \begin{proof}
                    
                \end{proof}

        \subsection{Examples}
            \begin{example}[Principal bundles]
                Let $G$ be a group object of $\Sh(S_{\tau})$. The category of $G$-torsors on $S_{\tau}$ naturally gives rise to a stack on $S_{\tau}$, in the sense of a category fibred in groupoids over $\Sch_{/S}$ and satisfying $\tau$-descent, called the \textbf{moduli stack of $G$-bundles} on $S_{\tau}$. As a slight abuse of notations, let us denote it also by $\Bun_G(S_{\tau})$. By its construction, it admits a universal map:
                    $$\Bun_G(S_{\tau}) \to S/G$$
                to the $\tau$-sheaf $S/G$; should the sheaf $S/G$ be representable by an algebraic space on $S_{\tau}$, it will be the coarse moduli space of $S/G$ per the definition of coarse moduli spaces.

                Now, we know from GIT that under certain technical hypotheses, e.g. $G$ is reductive or finite.
            \end{example}

            \begin{example}[The Kummer and Artin-Schreier sequences]
                
            \end{example}

            \begin{example}[Twistings]
                
            \end{example}

    \section{Quotient stacks, classifying stacks, and principal bundles}
        \begin{convention}
            Fix a base scheme $S$ and consider a Grothendieck topology $\tau$ on $\Sch_{/S}$, and for technical reasons, we require that $\tau$ is \textit{no finer than the fpqc topology}. For brevity, let us denote the resulting site by $S_{\tau}$. 

            Write $\Sh(S_{\tau})$ for the sheaf topos on $S_{\tau}$, and $\Stk(S_{\tau}) := \Grpd(\Sh(S_{\tau}))$ for the $(2, 1)$-category of $\Grpd$-valued stacks on $S_{\tau}$. 

            Eventually, we will specialise to the case where $S := \Spec k$ where $k$ is an algebraically closed field of characteristic $0$.
        \end{convention}

        \begin{convention}
            Throughout, let $G$ be an affine group $S$-scheme.
        \end{convention}
        \begin{remark}
            If $G$ is smooth (e.g. when $S$ is a $\Q$-scheme) then on can take $\tau$ to be the \'etale topology. If not, then one will have to work with a topology at least as fine as the fppf topology.
        \end{remark}

    \subsection{Constructing \texorpdfstring{$\Bun_G$}{}}
            \begin{definition}[Quotient stacks] \label{def: quotient_stacks}
                Let $Z$ be an $S$-scheme with an action by $G$, say $\alpha: G \x_S Z \to X$. The \textbf{quotient stack} $[Z/_{\alpha}G]$ with respect to this action is then the following groupoid object of the sheaf topos $\Sh(S_{\tau})$:
                    $$
                        \begin{tikzcd}
                    	{G \x_S Z} & X
                    	\arrow["\alpha", shift left=2, from=1-1, to=1-2]
                    	\arrow["{\pr_2}"', shift right=2, from=1-1, to=1-2]
                        \end{tikzcd}
                    $$
            \end{definition}
            \begin{remark}
                One advantage of this definition over the usual one (cf. e.g. \cite[\href{https://stacks.math.columbia.edu/tag/044O}{Tag 044O}]{stacks}) is that it makes it clear that quotient stacks satisfy descent.
    
                Also, given any two principal $G$-bundles $P \to S, P' \to S$, any $G$-equivariant $S$-scheme morphism $P \to P'$ is invertible \textit{a priori}. As such, we can equivalently characterise:
                    $$[Z/_{\alpha}G](T) \cong \left\{ \text{ principal $G$-bundles $P \to T$ and $G \x_S T$-equivariant (iso)morphisms } \right\}$$
                As such, definition \ref{def: quotient_stacks} gives us a completely diagrammatic way to think about principal bundles, without having to worry about trivialisations and so on. 
            \end{remark}
            \begin{example}[Classifying stacks and universal principal bundles] \label{example: classifying_stacks}
                Since $S$ is terminal in $\Sch_{/S}$, $G$ acts on it trivially. The \textbf{classifying stack} of $G$, often denoted by $BG$, is nothing but the quotient stacks $[S/G]$. For any $T \in \Ob(\Sch_{/S})$, its $T$-points (i.e. objects of $BG(T)$) are principal $G$-bundles $P \to T$ along with $G$-equivariant morphisms $P \to T$. If $T$ is furthermore acted on trivially by $G$ then we will have that:
                    $$BG(T) \cong \{ \text{princial $G$-bundles $P \to T$} \}$$
                In other words, this is telling us that, for all $S$-schemes $T$ acted on trivially by $G$, all principal $G$-bundles $P \to T$ on $T$, there shall exist a morphism $\pt: S \to BG$ giving rise to a $(2, 1)$-pullback diagram in $\Stk(S_{\tau})$ as follows:
                    $$
                        \begin{tikzcd}
                    	P & S \\
                    	T & BG
                    	\arrow[from=1-1, to=1-2]
                    	\arrow["\forall"', from=1-1, to=2-1]
                    	\arrow["{(2, 1)}"{description}, "\lrcorner"{anchor=center, pos=0.125}, draw=none, from=1-1, to=2-2]
                    	\arrow["\exists \pt", from=1-2, to=2-2]
                    	\arrow["{\exists!}", dashed, from=2-1, to=2-2]
                        \end{tikzcd}
                    $$
                where $P \to S$ is the structural morphism. In this sense, one may regard any morphism of stacks:
                    $$\pt: S \to BG$$
                as a \textbf{universal princial $G$-bundle on $S$}, as any princial $G$-bundle $P \to T$ on an $S$-scheme $T$ is obtained by pullback $\pt: S \to BG$. Strictly speaking, this is an abuse of terminology, but it is nevertheless a useful way to think about principal $G$-bundles.
            \end{example}
            \begin{remark}
                 Definition \ref{def: quotient_stacks} and example \ref{example: classifying_stacks} actually remain true when we replace $Z$ and $T$ by arbitrary prestacks fibred in groupoids over $\Sch_{/T}$. There are some necessary but obvious modifications to be made, and there are some $2$-categorical subtleties to worry about, but these are mostly abstract-nonsensical.
            \end{remark}
    
            The discussion in example \ref{example: classifying_stacks} leads to the following definition. Recall that for any prestacks $\scrX, \scrY$ fibred in groupoids over $\Sch_{/S}$, the mapping stack $\Maps_S(\scrX, \scrY)$ satisfies the following:
                $$\Maps_S(\scrX, \scrY)(T) := \Maps_S( T, \Maps_S(\scrX, \scrY) ) \cong \Maps_T(\scrX \x_S T, \scrY) \cong \Maps_T(\scrX \x_S T, \scrY \x_S T)$$
            for all prestacks $T$ in groupoids over $\Sch_{/S}$, where the first equivalence holds because $\Maps_S(-, -)$ is an internal Hom and the second equivalence holds thanks to the universal property of $(2, 1)$-pullbacks.
            \begin{definition}[Moduli stack of principal bundles] \label{def: moduli_stack_of_principal_bundles}
                The \textbf{moduli stack of principal $G$-bundles} $P \to X$ on a fixed $S$-scheme $X$ is given as the following mapping stack over $S$:
                    $$\Bun_G(X) := \Maps_S( X, BG )$$
            \end{definition}
            
            Before moving on, let us try to understand the definition. Firstly, consider the following for all $S$-scheme $X$, which holds because $\Maps_S(-, -)$ is an internal Hom:
                $$\Maps_S( X, \Maps_S( S, BG ) ) \cong \Maps_S( X \x_S S, BG ) \cong \Maps_S( X, BG ) = \Bun_G(X)$$
            Next, notice that $\Maps_S( X, \Maps_S( S, BG )  )$ is equivalent to the groupoid of $(2, 1)$-pullback squares:
                $$
                    \begin{tikzcd}
                        P & S \\
                        X & BG
                        \arrow[from=1-1, to=1-2]
                        \arrow["\forall"', from=1-1, to=2-1]
                        \arrow["{(2, 1)}"{description}, "\lrcorner"{anchor=center, pos=0.125}, draw=none, from=1-1, to=2-2]
                        \arrow["\exists \pt", from=1-2, to=2-2]
                        \arrow["{\exists!}", dashed, from=2-1, to=2-2]
                    \end{tikzcd}
                $$
            where $P \to X$ are principal $G$-bundles on the $S$-scheme $X$. At the same time, we know from example \ref{example: classifying_stacks} that any such bundle gives rise to such a pullback diagram. Therefore, it makes sense to regard $\Bun_G(X)$ as the moduli stack of principal $G$-bundles on $X$.
            
            \begin{example}
                When $X \cong S$, we have:
                    $$\Bun_G(S) \cong \Maps_S( S, BG )$$
                which is indeed the groupoid of principal $G$-bundles on $S$, per the content of example \ref{example: classifying_stacks}.
            \end{example}
            \begin{example}[$\Bun_{\GL_n}$ classifies rank-$n$ vector bundles] \label{example: Bun_GL_n_classifies_rank_n_vector_bundles}
                A very nice fact is that $\Bun_{\GL_n}(X)$ is isomorphic as an $S$-stack to the moduli stack of rank-$n$ vector bundles on $X$. This is useful for proving that, when $X$ is flat, of finite-presentation, and projective over $S$ and $G$ is smooth over $S$, the stack $\Bun_G(X)$ will in fact be algebraic (in fact, it will also be smooth!). The proof usually involves firstly proving that $\Bun_{\GL_n}(X)$ is algebraic, and then using some kind of change-of-group result.
    
                But back to the current discussion. Firstly, let us consider the $S$-stack $\Vect_n(S)$ given as follows for all $S$-schemes $T$:
                    $$\Vect_n(S)(T) := \{ \text{locally free $\scrO_T$-modules of rank $n$ and $\scrO_T$-linear isomorphisms} \}$$
                It can be shown (see \cite[Lemma 4.1.1]{wang_algebraicity_of_Bun_G}) that there is an isomorphism of $S$-stacks:
                    $$\Vect_n(S) \to B\GL_n$$
                given for each $T \in \Ob(\Sch_{/S})$ (i.e. given as a natural transformation) by:
                    $$\scrE \mapsto \Isom_{\scrO_T}( \scrO_T^{\oplus n}, \scrE )$$
                where $\Isom_{\scrO_T}(-, -)$ is as in \cite[\href{https://stacks.math.columbia.edu/tag/08K7}{Tag 08K7}]{stacks} (see \cite[\href{https://stacks.math.columbia.edu/tag/0D3T}{Tag 0D3T}]{stacks} in particular for a description of $\Isom_{\scrO_T}(\scrF, \scrF')$ as a geometric object for any $\scrF, \scrF' \in \Ob(\QCoh(T))$); this is well-defined because any $\Isom_{\scrO_T}( \scrO_T^{\oplus n}, \scrE )$ has a natural $\GL_n \x_S T$-action, as isomorphisms of finite-dimensional vector spaces are given by invertible matrices. From this, we get that:
                    $$
                        \begin{aligned}
                            \Bun_{\GL_n}(X) & := \Maps_S(X, B\GL_n)
                            \\
                            & \cong \Maps_S(X, \Vect_n(S))
                            \\
                            & = \{ \text{locally free $\scrO_X$-modules of rank $n$ and $\scrO_X$-linear isomorphisms} \}
                        \end{aligned}
                    $$
                which means that $\Bun_{\GL_n}(X)$ is the moduli stack of rank-$n$ vector bundles on $X$.
            \end{example}
            
            Now, as a matter of fact, for any \textit{algebraic} $S$-stack $\scrY$, it makes sense to consider the moduli stack of rank-$n$ vector bundles on $\scrY$:
                $$\Vect_n(\scrY)(T) := \{ \text{locally free $\scrO_{\scrY}$-modules of rank $n$ and $\scrO_{\scrY}$-linear isomorphisms} \}$$
            with quasi-coherent modules over the structure sheaf of an algebraic stack being understood in the sense of \cite[\href{https://stacks.math.columbia.edu/tag/06WU}{Tag 06WU}]{stacks}; in particular, this means that it makes sense to speak of:
                $$\Bun_{\GL_n}(\scrY)$$
            as the moduli space of rank-$n$ vector bundles on $\scrY$. In light of example \ref{example: Bun_GL_n_classifies_rank_n_vector_bundles}, let us suppose that $\Bun_G(X)$ - and hence $\Bun_G(X) \x_S X$, since schemes are instances of algebraic stacks - is an algebraic stack (which can happen) and then consider the following:
                $$
                    \begin{aligned}
                        \Bun_{\GL_n}(\Bun_G(X) \x_S X) & = \Maps_S( \Bun_G(X) \x_S X, B\GL_n )
                        \\
                        & \cong \Maps_S(\Bun_G(X), \Maps_S(X, B\GL_n))
                        \\
                        & \cong \Maps_S(\Bun_G(X), \Bun_{\GL_n}(X))
                    \end{aligned}
                $$
            Vector bundles of rank $n$ on the algebraic stack $\scrY := \Bun_G(X) \x_S X$ are thus the same as morphisms $\Bun_G(X) \to \Bun_{\GL_n}(X)$, and when $G = \GL_n$, one has also a \textbf{universal vector bundle} (of rank $n$):
                $$\scrE_0$$
            on $\Bun_{\GL_n}(X) \x_S X$, corresponding to any representative of the isomorphism class of $\id_{\Bun_{\GL_n}(X)}$. This is universal in the sense that, because for any prestack $Y$ fibred in groupoids over $S$ an any $S$-scheme $T$, the groupoid $\Maps_S(Y, Y)(T)$ is monoidal with respect to compositions, for every:
                $$\scrE \in \Ob( \Bun_{\GL_n}(\scrY)(T) )$$
            there exists some:
                $$\varphi \in \Ob( \Maps_S(\Bun_{\GL_n}(X), \Bun_{\GL_n}(X)) )$$
            such that:
                $$\scrE \cong \varphi^* \scrE_0$$
            \todo[inline]{Needs more details}

        \subsection{\texorpdfstring{$\Bun_G$}{} is an algebraic stack}
    
    \addcontentsline{toc}{section}{References}
    \printbibliography

\end{document}